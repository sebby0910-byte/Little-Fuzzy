<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Little Fuzzy — Archive Access</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      background: #3012d5;
      color: #ffffff;
      font-family: "Courier New", monospace;
      overflow-x: hidden;
      scroll-behavior: smooth;
      
    }

    /* NAV BAR */
  .top-nav {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  padding: 1rem 2rem;
  background: transparent; /* o rgba(48,18,213,0.7) se la vuoi semitrasparente */
  z-index: 1000;
}

.nav-numbers {
  display: flex;
  justify-content: space-between; /* distribuisce i numeri lungo tutta la larghezza */
  width: 100%;
}

.nav-numbers a {
  color: #ffffff;
  text-decoration: none;
  font-size: 0.9rem;
  transition: color 0.2s;
}

.nav-numbers a:hover {
  color: #FF6D00;
}

    /* GLOBO */
    #globe-section {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
    }

    .ascii-sphere {
      width: 60vmin;
      height: 60vmin;
      transform-style: preserve-3d;
      animation: rotateSphere 30s linear infinite;
      transition: transform 2s ease, opacity 2s ease;
      position: relative;
    }

    @keyframes rotateSphere {
      0% { transform: rotateY(0deg) rotateX(0deg); }
      100% { transform: rotateY(360deg) rotateX(0deg); }
    }

    .char {
      position: absolute;
      left: 50%;
      top: 50%;
      color: #FF6D00;
      font-size: 12px;
      transform-style: preserve-3d;
      opacity: 0.6;
    }

    .globe-label {
      color: #FF6D00;
      font-size: 1rem;
      margin-top: 5rem;
      transition: opacity 1s ease;
      text-align: center;
      
    }

    /* SEZIONE TESTO */
    .stage {
      background: #3012d5;
      padding: 1px 4vw;
      box-sizing: border-box;
    }

    .row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1vh;
    }

    .log, .poem {
      white-space: pre-wrap;
      line-height: 0.8;
      font-size: 0.7rem;
      width: 45%;
    }

    .log {
      color: #fff;
      text-align: left;
    }

    .poem {
      color: #FF6D00;
      text-align: right;
      opacity: 0;
      transform: translateY(8px);
      transition: all 0.5s ease;
    }

    .poem.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .label-human {
      font-weight: bold;
      margin-right: 6px;
      color: #fff;
    }

    .label-nature {
      font-weight: bold;
      margin-right: 6px;
      color: #0DCB4B;
    }

    .access-button {
      border: 1px solid #65CB05;
      background: none;
      color: #fff;
      padding: 0.6rem 2.9rem;
      font-size: 1rem;
      cursor: pointer;
      font-family: "Courier New", monospace;
      transition: background 0.2s, color 0.2s;
      display: block;
      margin: 8rem auto;
    }
    .access-button:hover {
      background: #65CB05;
      color: #000;
    }
    
/* SPIRALE (LOG 010–018) */
.spiral-container {
  position: relative;
  width: 100%;
  height: 190vh; /* scroll lungo per effetto */
  overflow: hidden;
}
/* Spirale: entra con transizione */
.spiral-container {
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 1s ease, transform 1s ease;
}

.spiral-container.visible {
  opacity: 1;
  transform: scale(1);
}

.spiral-text {
  position: absolute;
  white-space: pre-wrap;
  font-size: 0.85rem;
  max-width: 40vw;
  transform: translate(-50%, -50%);
  text-align: center;
  line-height: 1.3;
  transition: transform 0.2s linear;
}

.spiral-text.human { color: #ffffff; }
.spiral-text.nature { color: #FF6D00; }

/* Mobile */
@media (max-width: 768px) {
  .spiral-text {
    font-size: 0.65rem;
    max-width: 70vw;
  }
}
.divider {
  text-align: center;
  padding: 1rem 0;
  color: #FF6D00;
  font-size: 1.2rem;
  letter-spacing: 0.8rem;
  opacity: 0.7;
}

.divider span {
  display: inline-block;
  animation: float 3s infinite ease-in-out;
}

.divider span:nth-child(2) { animation-delay: 0.2s; }
.divider span:nth-child(3) { animation-delay: 0.4s; }
.divider span:nth-child(4) { animation-delay: 0.6s; }
.divider span:nth-child(5) { animation-delay: 0.8s; }
.divider span:nth-child(6) { animation-delay: 1s; }
.divider span:nth-child(7) { animation-delay: 1.2s; }

@keyframes float {
  0%, 100% { transform: translateY(0); opacity: 0.7; }
  50% { transform: translateY(-10px); opacity: 1; }
}
/* --- SEZIONE SILENZIO --- */
.silence-section {
  background: #3012d5;
  padding: 5rem 2rem;
  display: flex;
  justify-content: center;
}

.silence-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 1rem;
  width: 100%;
  max-width: 1000px;
}

/* Card log */
.silence-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid #FF6D00;
  color: #fff;
  font-family: "Courier New", monospace;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.3s ease;
  padding: 0.8rem;
  text-align: center;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

.silence-card.expanded {
  grid-column: 1 / -1;
  font-size: 0.9rem;
  line-height: 1.4;
  padding: 2rem;
  white-space: pre-wrap;
  text-align: left;
  overflow: visible;
}

.silence-card .log-title {
  color: #FF6D00;
  font-weight: bold;
  display: block;
  margin-bottom: 0.5rem;
}

@media (max-width: 768px) {
  .silence-card {
    font-size: 0.65rem;
  }
  .silence-card.expanded {
    font-size: 0.8rem;
  }
}
/* Transizione apparizione blocchi */
.silence-section {
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 1s ease, transform 1s ease;
}

.silence-section.visible {
  opacity: 1;
  transform: scale(1);
}
/* --- QUARTA PARTE --- */
.fragment-section {
  background: #3012d5; /* arancione */
  color: #ffffff;
  padding: 10vh 8vw;
  text-align: center;
  transition: background 1.5s ease;
}

.fragment {
  margin: 1vh auto;
  max-width: 609px;
  font-size: 0.6rem;
  line-height: 1.6;
  opacity: 0;
  transform: scale(1.5);
  transition: transform 1s ease, opacity 1s ease, font-size 1s ease;
}

.fragment.visible {
  opacity: 1;
  transform: scale(1);
  font-size: 0.8rem;
}

/* alternanza colori */
.fragment:nth-child(odd) { color: #ffffff; } /* bianco */
.fragment:nth-child(even) { color: #FF6D00; } /* blu */

/* ==== Pila caotica a fondo pagina ==== */
#pile {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: 34vh;            /* altezza del mucchio */
  pointer-events: none;    /* clic passano attraverso */
  z-index: 5;
}

/* stato durante la caduta */
.falling {
  position: fixed !important;
  margin: 0 !important;
  transition:
    top 1.1s cubic-bezier(.25,.9,.2,1.05),
    left 1.1s cubic-bezier(.25,.9,.2,1.05),
    transform 1.1s cubic-bezier(.25,.9,.2,1.05);
  transform-origin: 50% 50%;
  z-index: 9;
}

/* stato finale nella pila */
.piled {
  position: absolute !important;
  margin: 0 !important;
  transform-origin: 50% 50%;
  z-index: 10;
}

  </style>
</head>
<body>

  <!-- NAV -->
 <!-- NAV -->
<nav class="top-nav">
  <div class="nav-numbers">
    <a href="index.html">0</a>
    <a href="1.html">1</a>
    <a href="2.html">2</a>
    <a href="3.html">3</a>
    <a href="4.html">4</a>
    <a href="5.html">5</a>
    <a href="6.html">6</a>
    <a href="7.html">7</a>
    <a href="8.html">8</a>
    <a href="9.html">9</a>
    <a href="10.html">10</a>
    <a href="11.html">11</a>
    <a href="12.html">12</a>
    <a href="13.html">13</a>
    <a href="14.html">14</a>
    <a href="15.html">15</a>
    <a href="16.html">16</a>
    <a href="17.html">17</a>
    <a href="18.html">18</a>
    <a href="19.html">19</a>
    <a href="20.html">20</a>
  </div>
</nav>


  <!-- GLOBO -->
  <section id="globe-section">
    <div class="ascii-sphere" id="sphere"></div>
    <div class="globe-label">Little Fuzzy<br>by H. Beam Piper</div>
  </section>

  <!-- TESTO -->
  <main class="stage">

    <div class="row">
      <div class="log" data-text="system boot // colony approach mode
> planetary coordinates locked: 12-ZR-44
> atmospheric scan: initializing
> orbital insertion: 0.04 km/s
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>The soil trembles gently, not from the engines, but from anticipation. It feels them arrive before they set foot. Metal and human breath intrude upon its quiet.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_001 // landing sequence
> shuttle velocity: stable
> touchdown: nominal
> external sensors: operational
> native life detected: low probability
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>Roots stir beneath the surface. The rocks shift imperceptibly. A thousand unseen eyes watch from hollows, burrows, shadows. The planet notices the newcomers. It whispers in frequencies humans cannot hear. I am listening.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_002 // environmental scan
> temperature: 23.4°C
> oxygen: 21.8%
> humidity: 42%
> seismic activity: minimal
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>The wind sighs through canyons. The streams reflect the sky with tremors of fear. The forest holds its breath. Every leaf, every stone, records the pulse of the intruders.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_003 // reconnaissance drone // deployment
> drone ID: X-12
> status: operational
> scan perimeter: 1 km radius
> anomalies: none detected
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>A faint vibration runs through the soil. A shimmer across the plains. Life watches, curious but cautious. The planet does not speak yet, but it hums under its skin.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_004 // resource survey // preliminary
> mineral analysis: trace metals
> flora index: 73% native coverage
> fauna index: small mammals, unclassified
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>Leaves quiver as the machines hum. Small creatures scatter; some hide, some observe. The planet feels the weight of observation, not extraction. It notes the shapes and the sounds that have never been here before.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_005 // colony check-in
> shuttle crew: 5 humans
> life support: nominal
> mission objective: survey and report
> first contact protocol: standby
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>They step onto the ground with cautious precision. The Earth beneath their boots listens, stretches, shifts. The air smells of metal and fuel. But the soil tastes the memory of every previous touch, every drop of rain, every silent wind.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_006 // sensory integration // initial readings
> atmosphere: breathable
> magnetic field: stable
> chemical composition: normal
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>The planet’s heartbeat is slow. A rhythm of stone and root. It senses curiosity and hesitation. It senses fear, even without voice. It waits, patient, ancient.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_007 // reconnaissance log
> Fuzzies sighted: preliminary
> behavior: cautious, observing
> proximity: 200 meters
> human presence: acknowledged
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>Small, strange eyes peer from the forests. Soft fur blends with shadows. They watch the intruders with innocent calculation. The planet feels their presence too: tiny pulses of life, resonating with the land.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_008 // terrain stability // initial
> soil density: firm
> seismic stability: low risk
> water table: consistent
> anomalies: minor
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>Wind carries scents unfamiliar. The Earth stretches slightly under the boots. It tastes curiosity mixed with the sharp tang of machines. The trees whisper together. The rocks hold their knowledge in silence.</div>
    </div>

    <div class="row">
      <div class="log" data-text="log_009 // arrival summary // preliminary
> all systems nominal
> crew acclimating
> native species observed
> environmental interference: minimal
//"><span class="label-human">HUMAN:</span></div>
      <div class="poem"><span class="label-nature"></span>The first footprints press into the soft earth. The planet exhales slowly, sensing, remembering. Not anger, not fear, just awareness. A quiet pulse beneath metal and flesh: this is their arrival, and the planet is awake.</div>
    </div>

  </main>
  <div class="divider">
  <span>*</span><span>@</span><span>+</span><span>°</span><span>•</span><span>*</span><span>@</span><span>+</span><span>°</span><span>•</span><span>*</span><span>@</span><span>+</span><span>°</span><span>•</span><span>*</span><span>@</span><span>+</span><span>°</span><span>•</span><span>*</span><span>@</span><span>+</span><span>°</span><span>•</span><span>*</span><span>@</span><span>+</span><span>°</span><span>•</span>
</div>
  <!-- LOG 010–018 in SPIRALE -->
<section class="spiral-container" id="spiral"></section>
 
  <!-- LOG 019–026: Sezione Silenzio -->
<section class="silence-section">
  <div class="silence-grid" id="silence"></div>
  
</section>

<section class="fragment-section" id="fragments">
  <div class="fragment">fragment_027.txt<br>
  I remember the footsteps.<br>
  The drills, the clatter, the sharp smell of machines.<br>
  They came with eyes wide, maps in hand,<br>
  thinking themselves the first to know this world.<br><br>
  I felt their fear, their curiosity,<br>
  the clumsy arrogance of flesh and metal.<br>
  Every step pressed a story into my skin,<br>
  every instrument tore a note from my bones.<br><br>
  But I endured.<br>
  I stretched through roots and stone,<br>
  through air and water,<br>
  absorbing the noise and returning it as memory.<br>
  Their presence was a pulse,<br>
  temporary and sharp,<br>
  but I am ancient, slow, patient.<br><br>
  The Fuzzies watched.<br>
  Tiny eyes, fur blending with shadow,<br>
  bodies trembling in rhythm with mine.<br>
  They learned quickly.<br>
  They mirrored the noise, then chose silence.<br>
  And I held them,<br>
  safe in my memory of light and soil.
  </div>

  <div class="fragment">fragment_028.txt<br>
  The metal hum is gone now.<br>
  Air moves freely through the canyons.<br>
  Streams ripple with unbroken sound.<br>
  Trees sway, leaves whispering secrets to the wind.<br><br>
  I remember the voices of humans,<br>
  the calls, the orders, the laughter of discovery.<br>
  It was brief.<br>
  But I have kept it all.<br>
  I fold it into the stones,<br>
  the rivers, the roots beneath the soil.<br><br>
  Life pulses quietly,<br>
  growing into spaces once hollowed by machines.<br>
  The Fuzzies move softly,<br>
  curious but cautious,<br>
  learning what I have always known:<br>
  to survive, to watch, to remember.
  </div>

  <div class="fragment">fragment_029.txt<br>
  I feel the scars in my flesh,<br>
  but also the healing.<br>
  Where metal bit deep, moss and vine now climb.<br>
  Where roots were disturbed, new shoots push through.<br>
  Every imprint tells a story:<br>
  of intrusion, of ignorance, of fleeting presence.<br><br>
  And yet, there is balance.<br>
  Wind carries the memory across plains.<br>
  Stone holds the echoes.<br>
  Water moves over all, whispering resilience.<br>
  I am alive.<br>
  I endure.<br>
  I witness.
  </div>

  <div class="fragment">fragment_030.txt<br>
  Soft eyes peer from burrows and trees.<br>
  The Fuzzies tread lightly,<br>
  learning the language of stillness.<br>
  They touch the soil, sense the hum beneath,<br>
  communicate without words.<br><br>
  I watch them, guide them.<br>
  Their smallness belies their understanding.<br>
  They know the rhythm of my bones.<br>
  They carry the memory of intrusion<br>
  and the hope of quiet return.<br>
  In their movements, I see reflection,<br>
  the dance of awareness and patience.
  </div>

  <div class="fragment">fragment_031.txt<br>
  Time flows differently here.<br>
  I do not count it in hours or days,<br>
  but in seasons, wind, water, and growth.<br>
  Human presence is a sharp flicker,<br>
  gone before understanding fully dawns.<br><br>
  Yet their traces remain,<br>
  folded into soil, into air, into stone.<br>
  I hum with memory,<br>
  a quiet song of endurance.<br>
  All that is, all that was,<br>
  and all that will be,<br>
  resides within me.
  </div>

  <div class="fragment">fragment_032.txt<br>
  The world breathes again.<br>
  Rivers find their old paths.<br>
  Leaves stretch toward light.<br>
  Metal lies still, useless.<br><br>
  And I remember them.<br>
  Not to punish, not to mourn,<br>
  but to hold witness.<br>
  Every step, every machine, every clumsy attempt<br>
  is preserved in pulse, in rhythm, in root.<br><br>
  I speak in whispers and in echoes.<br>
  I move in the subtle shift of air and water.<br>
  I am patient, infinite, enduring.<br>
  The Fuzzies listen,<br>
  and together we carry the memory forward.
  </div>
</section>
  



  <script>
    /* ---- CREA GLOBO ASCII ---- */
    const sphere = document.getElementById('sphere');
    const chars = ['#','*','@','+','°','•','.','¤','≈','§','%','∆','/','\\','^','ø'];
    const layers = 40, points = 60, radius = 150;
    for(let i=0;i<layers;i++){
      const theta=(i/(layers-1))*Math.PI;
      const y=radius*Math.cos(theta);
      const r=radius*Math.sin(theta);
      for(let j=0;j<points;j++){
        const phi=(j/points)*2*Math.PI;
        const x=r*Math.cos(phi), z=r*Math.sin(phi);
        const s=document.createElement('span');
        s.className='char';
        s.textContent=chars[Math.floor(Math.random()*chars.length)];
        const scale=1-(z/(radius*2));
        s.style.transform=`translate3d(${x}px,${y}px,${z}px) scale(${scale})`;
        s.style.opacity=0.5+0.5*scale;
        sphere.appendChild(s);
      }
    }

    /* ---- EFFETTO GLOBO SCROLL ---- */
    const asciiSphere = document.querySelector('.ascii-sphere');
    const label = document.querySelector('.globe-label');
    window.addEventListener('scroll',()=>{
      const y=window.scrollY;
      const h=window.innerHeight;
      const p=Math.min(y/h,1);
      asciiSphere.style.transform=`scale(${1+p*3})`;
      asciiSphere.style.opacity=1-p*1.2;
      label.style.opacity=1-p*1.2;
      if(p>=1){
        document.getElementById('globe-section').style.display='none';
      }
    });

    /* ---- EFFETTO MACCHINA DA SCRIVERE ---- */
    function typeWriter(el,text,speed=14){
      return new Promise(res=>{
        el.textContent='';
        let i=0;
        function step(){
          if(i<text.length){
            el.textContent+=text.charAt(i);
            i++;
            const ch=text.charAt(i-1);
            const extra=(ch=='\n')?100:0;
            setTimeout(step,speed+Math.random()*15+extra);
          } else res();
        }
        step();
      });
    }

    document.addEventListener('DOMContentLoaded',()=>{
      const logs=[...document.querySelectorAll('.log')];
      const poems=[...document.querySelectorAll('.poem')];
      async function playSequence(){
        for(let i=0;i<logs.length;i++){
          const log=logs[i];
          const poem=poems[i];
          const raw=log.getAttribute('data-text')||'';
          await typeWriter(log,raw,14);
          if(poem){
            poem.classList.add('visible');
            await new Promise(r=>setTimeout(r,500));
          }
        }
      }
      const firstLog=logs[0];
      const observer=new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            observer.unobserve(firstLog);
            playSequence();
          }
        });
      },{threshold:0.3});
      logs.forEach(l=>l.textContent='');
      observer.observe(firstLog);
    });
    
/* --- SPIRALE log_010–018 --- */
const spiralData = [
  {text:`log_010 // resource survey cycle 1
> mineral output: preliminary
> rare metals: detected in trace amounts
> terrain stability: firm
> anomalies: none //`, type:'human'},
  {text:`The soil quivers under their boots.
Tiny roots tremble in anticipation.
Every strike of the metal instruments
sends ripples through stone and leaf.
The planet watches quietly, measuring each intrusion.`, type:'nature'},
  {text:`log_011 // flora and fauna assessment
> plant coverage: 70% intact
> fauna observed: 5 specimens (small mammal-like)
> behavior: cautious, mobile
> initial contact protocol: passive //`, type:'human'},
  {text:`Soft eyes peek from bushes.
Fuzzy shapes move in curious circles.
The wind carries their whispers,
tiny vibrations that mingle with the pulse of the soil.
The planet notes their caution, their awareness.`, type:'nature'},
  {text:`log_012 // excavation drone // status report
> drone ID: X-14
> operational zones: 3
> data collected: 1.2 GB
> anomalies: minor signal interference //`, type:'human'},
  {text:`The drills hum against stone.
The ground vibrates, sensing intrusion.
Roots twist beneath metal feet.
Streams ripple with sudden awareness.
Every metal bite leaves a small echo in the land.`, type:'nature'},
  {text:`log_013 // mineral sample analysis
> composition: iron, copper, trace lithium
> extraction viability: moderate
> environmental risk: low (preliminary) //`, type:'human'},
  {text:`The planet feels their hunger.
It is not anger, not fear, only pressure.
The soil coils around every instrument,
whispers in the language of stone and water,
and waits.`, type:'nature'},
  {text:`log_014 // Fuzzy observation // field notes
> subjects: 7 observed
> proximity: 30–50 meters
> behavior: alert, cautious
> interaction: none //`, type:'human'},
  {text:`Tiny creatures flit through the underbrush.
They mimic the noise of machines sometimes,
or flatten themselves into shadows.
The Earth hums softly in response,
its memory alive with every footstep.`, type:'nature'},
  {text:`log_015 // extraction progress report
> zones surveyed: 5/12
> sample collected: 4.7 kg
> soil integrity: slightly disturbed
> anomaly: vibration detected in subsoil //`, type:'human'},
  {text:`The ground remembers.
Each scoop of metal, each footprint,
presses its story into stone.
Streams murmur around disturbed soil,
and roots twist, reaching toward the intruders
without yet harming them.`, type:'nature'},
  {text:`log_016 // atmospheric check // extraction site
> oxygen: 21.5%
> dust levels: elevated
> magnetic interference: minor
> environmental interference: minimal //`, type:'human'},
  {text:`Leaves shiver in thin currents of wind.
Stone settles around the newly disturbed earth.
The planet tastes the intrusion,
small, metallic, invasive,
but measured.
It is learning about the humans.`, type:'nature'},
  {text:`log_017 // resource extraction // preliminary
> estimated yield: 7.2 kg per zone
> machinery efficiency: 93%
> local species presence: minimal disturbance
> operational note: continue monitoring //`, type:'human'},
  {text:`Vibrations run along buried roots.
The Fuzzies watch from every hollow.
Tiny breaths mingle with air and soil.
The planet’s pulse quickens slightly,
not with fear, but with awareness.
It will remember.`, type:'nature'},
  {text:`log_018 // cycle 1 summary
> zones fully surveyed: 5/12
> anomalies recorded: 3
> data integrity: 97%
> next steps: expand survey perimeter //`, type:'human'},
  {text:`Steel teeth mark the earth.
Streams carry small echoes of disturbance.
Soft fur blurs through light and shadow.
The planet hums beneath the machines,
recording every pattern, every intruder, every sound.`, type:'nature'}
];
/* --- Mostra con transizione la SPIRALE --- */
const spiralSection = document.querySelector('.spiral-container');

const spiralObserver = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      spiralSection.classList.add('visible');
      spiralObserver.unobserve(spiralSection);
    }
  });
}, { threshold: 0.2 });

spiralObserver.observe(spiralSection);

// crea elementi
const spiral = document.getElementById('spiral');
spiralData.forEach(d=>{
  const el=document.createElement('div');
  el.className='spiral-text ' + d.type;
  el.textContent=d.text;
  spiral.appendChild(el);
});

// posizionamento animato
const items=[...document.querySelectorAll('.spiral-text')];
let t = 0;

function animateSpiral(){
  const sy = window.scrollY;
  const cx = window.innerWidth/2;
  const spacing = 90;
  const amplitude = window.innerWidth < 768 ? 120 : 250; // più stretto su mobile
  const freq = 1.0;

  items.forEach((el,i)=>{
    const angle = (t/50 + sy/300 + i*0.9) * freq;
    const x = Math.sin(angle) * amplitude + cx;
    const y = i*spacing - sy*0.5 + 60;
    el.style.left = `${x}px`;
    el.style.top = `${y}px`;
  });

  t++;
  requestAnimationFrame(animateSpiral);
}

animateSpiral();
/* --- SEZIONE SILENZIO: LOG 019–026 --- */
const silenceLogs = [
`log_019 // extraction system
> zone: 5
> output: 0 kg
> mechanical failure: hydraulic leak
> maintenance required: critical
//
The ground hums beneath silent machines.
The drills stutter, metal groans.
Leaves whisper to each other in soft currents of air.
The planet feels the pause, the absence of rhythm
that had once been imposed by human hands.`,

`log_020 // environmental scan
> oxygen: 21.2%
> temperature: fluctuating
> dust particles: high
> sensor failure: sector 3
//
Roots twist around cables.
Streams ripple without direction.
The Fuzzies pause in the brush, watching.
Even the wind seems to hesitate,
as if waiting for the humans to leave.`,

`log_021 // communication link
> link status: intermittent
> remote server: unreachable
> crew comms: 2/5 active
//
The metal hum fades.
Echoes of footsteps linger in the dirt.
A pulse of awareness runs through stone,
measuring absence.
The planet exhales softly, patiently.`,

`log_022 // resource scanner
> anomalies detected: multiple
> error code: 0xC104
> output files: corrupted
> retrieval: failed
//
Tiny eyes flicker in shadow.
The Fuzzies watch the silence deepen.
The soil remembers the strike of every tool,
and now it feels the void in between,
the gap left by faltering machines.`,

`log_023 // life support // emergency
> oxygen reserves: 32%
> power: unstable
> warning: system failure imminent
//
Metal rests against earth.
The shuffling of boots slows.
The hum of energy grids wavers.
The planet senses the pause,
a space to breathe,
a quiet growing where there was noise.`,

`log_024 // power grid
> main generator: offline
> backup generator: failing
> alert: energy shortage
//
Branches sway without wind.
A stone shifts slightly as if acknowledging freedom.
Every vibration that had been forced into the land
by human work now dissipates.
Silence spreads like water across the surface.`,

`log_025 // system diagnostics
> devices offline: 7/10
> network instability: severe
> emergency override: engaged
//
The first echoes of abandonment reach the leaves.
The ground listens to the empty drills,
the absent hum of motors.
The Fuzzies step lightly,
testing the air, the earth, the stillness.`,

`log_026 // archive segment // corrupted
> fragments: 1/5 recoverable
> ambient interference: high
> final log: unknown
//
The planet remembers every imprint.
Metal rests, machines idle,
and life flows again in small pulses.
Silence is not empty.
It is full of waiting.
The world stretches beneath the first signs of release.`
];

/* CREA LE CARD */
const silenceGrid = document.getElementById("silence");

silenceLogs.forEach(log => {
  const card = document.createElement("div");
  card.className = "silence-card";
  const title = log.split("\n")[0];
  const content = log;
  card.innerHTML = `<span class="log-title">${title}</span>`;
  card.dataset.fulltext = content;
  card.addEventListener("click", () => {
    const isExpanded = card.classList.contains("expanded");
    document.querySelectorAll(".silence-card").forEach(c => {
      c.classList.remove("expanded");
      c.innerHTML = `<span class="log-title">${c.dataset.fulltext.split("\n")[0]}</span>`;
    });
    if (!isExpanded) {
      card.classList.add("expanded");
      card.innerHTML = `<span class="log-title">${title}</span><br>` + content.split("\n").slice(1).join("<br>");
    }
  });
  silenceGrid.appendChild(card);
});
/* --- Mostra con transizione la sezione SILENZIO --- */
const silenceSection = document.querySelector('.silence-section');

const silenceObserver = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      silenceSection.classList.add('visible');
      silenceObserver.unobserve(silenceSection);
    }
  });
}, { threshold: 0.2 });

silenceObserver.observe(silenceSection);

/* ---- Animazione FRAGMENTS ---- */
const fragments = document.querySelectorAll('.fragment');
const fragObserver = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if(entry.isIntersecting){
      entry.target.classList.add('visible');
    }
  });
}, { threshold: 0.3 });

fragments.forEach(f => fragObserver.observe(f));
    /* ==== CADUTA CAOTICA E ACCUMULO IN FONDO ==== */
/* Selettori degli elementi che vuoi far cadere nel mucchio */
const FALL_SELECTORS = [
  '.row',          /* i blocchi HUMAN/NATURE */
  '.spiral-text',  /* i pezzi della spirale */
  '.fragment',     /* eventuali frammenti 4a parte */
  '.postcard'      /* eventuali cartoline */
].join(',');

let hasFallen = false;

function collapseToPile() {
  if (hasFallen) return;
  const pile = document.getElementById('pile');
  if (!pile) return;

  const pileRect = pile.getBoundingClientRect();
  const viewW = window.innerWidth;

  const targets = Array.from(document.querySelectorAll(FALL_SELECTORS))
    .filter(el => el.offsetParent !== null); // solo visibili

  if (!targets.length) return;

  hasFallen = true;

  targets.forEach((el, idx) => {
    const r = el.getBoundingClientRect();

    // Fissa la dimensione per evitare reflow durante il detach
    el.style.width  = r.width  + 'px';
    el.style.height = r.height + 'px';

    // Posizione di partenza (stato "sospeso")
    el.classList.add('falling');
    el.style.top  = r.top  + 'px';
    el.style.left = r.left + 'px';
    el.style.transform = 'rotate(0deg)';

    // posizione/rotazione finale (atterra sopra la pila)
    const jitterX = Math.random() * (viewW - Math.min(r.width, viewW * 0.8));
    const rot     = (Math.random() * 80 - 40); // -40°..+40°
    const delay   = 40 * (idx % 10);           // un filo di cascata

    setTimeout(() => {
      // sposta verso il bordo superiore della pila (vista)
      const topFinal = pileRect.top + 10 + Math.random() * (pileRect.height - Math.min(r.height, pileRect.height - 20));
      el.style.top  = topFinal + 'px';
      el.style.left = jitterX + 'px';
      el.style.transform = `rotate(${rot}deg)`;
    }, delay);

    // quando finisce la transizione, “incastra” l'elemento dentro #pile
    el.addEventListener('transitionend', function onEnd(e) {
      if (e.propertyName !== 'top') return; // una sola volta
      el.removeEventListener('transitionend', onEnd);

      // calcola posizioni relative dentro la pila
      const pr = pile.getBoundingClientRect();
      const cur = el.getBoundingClientRect();

      // append nel DOM sotto #pile per restare “accatastato”
      pile.appendChild(el);

      // stato definitivo "piled"
      el.classList.remove('falling');
      el.classList.add('piled');

      // posizioni relative (absolute dentro #pile)
      el.style.top    = (cur.top - pr.top) + 'px';
      el.style.left   = (cur.left - pr.left) + 'px';
      el.style.bottom = 'auto';
      el.style.right  = 'auto';
      el.style.transition = 'none'; // niente ulteriori animazioni

      // piccolo jitter finale per più caos
      const tweakX = (Math.random() * 30 - 15);
      const tweakY = (Math.random() * 18 - 9);
      const extraR = (Math.random() * 14 - 7);
      requestAnimationFrame(() => {
        el.style.transform = `translate(${tweakX}px, ${tweakY}px) rotate(${rot + extraR}deg)`;
      });
    }, { once: true });
  });
}

/* Trigger automatico quando arrivi quasi a fondo pagina */
window.addEventListener('scroll', () => {
  const maxScroll = document.body.scrollHeight - window.innerHeight;
  if (!hasFallen && window.scrollY > maxScroll - 180) {
    collapseToPile();
  }
});

/* (Opzionale) Per test: premi "F" per far collassare tutto subito */
window.addEventListener('keydown', (e) => {
  if (e.key.toLowerCase() === 'f') collapseToPile();
});
  </script>
<!-- Pila dove si accumulano i pezzi -->
<div id="pile"></div>
</body>
</html>
